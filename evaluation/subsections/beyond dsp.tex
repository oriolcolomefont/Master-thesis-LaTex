\section{Music Structure Analysis as downstream task}

Let's pick a core MIR task as a sample to display such complexity: Music Structure Analysis (MSA), an interdisciplinary field that aims to understand the structure of music \cite{Nieto2020Audio-BasedApplications}. However, due to subjectivity, ambiguity, and data scarcity, audio-based MSA faces challenges like boundary placement ambiguity and similarity quantification \cite{NietoPerceptualMusic}. 

The main principles of MSA were initially defined as homogeneity, novelty, and repetition, with the addition of regularity. The checkerboard kernel technique is a simple and effective method for MSA based on the homogeneity principle. The kernel, with a checkerboard-like structure, is convolved over the main diagonal of a Self-Similarity Matrix (SSM) such as $S_{ij}$ is the similarity between time frames $i$ and $j$, $\vec{x}_i$ is the vector representation of time frame $i$, and $\left| \vec{x}_i \right|$ is the Euclidean norm of vector $\vec{x}_i$. The dot product of two vectors $\vec{x}_i$ and $\vec{x}_j$ is denoted by $\vec{x}_i \cdot \vec{x}_j$.

\input{introduction/subsections/equations/SSM equation}

This yields a novelty curve highlighting sudden changes in the selected musical features from which to extract the segment boundaries.

\input{introduction/subsections/equations/Novelty equation}

Mathematical operations are used on predefined principles such as homogeneity and repetition to analyze a musical structure. It explores features extracted from a musical signal and identifies peaks in a novelty curve to extract segment boundaries. In contrast, human aural skills rely on the perception and interpretation of music by human listeners based on cultural and academic background. They can capture subtle nuances of musical structure, but those still are subjective and can vary across listeners.

Combining technical tasks, aural skills, and music perception is challenging due to the complexity and subjectivity of musical perception, discrepancies between the features extracted by DSP techniques and the features perceived by humans, and the variability of musical signals and individual differences in musical perception. 

Purely mathematical approaches may not always reflect how humans perceive music and may not capture the subtle variations in timing or harmonic relationships critical to musical perception. Variability in musical signals due to instrumentation, genre, and performance style further complicates the development of these techniques that can be generalized to different musical contexts.


\input{figures/neural networks/r128 sphere}

\section{SALAMI dataset}
\subsection{Overview}

SALAMI (Structural Analysis of Large Amounts of Music Information) \cite{Smith2011DESIGNANNOTATIONS} aims to conduct massive structural analyses of different types of music. The project covers diverse music, from Western pop to Indian classical and from live to studio recordings.

\subsubsection{Formal Analysis Definition}
Formal analysis, in this context, doesn't refer to classifying the piece into a formal type (e.g., sonata, song, or canon) or reducing it into its Ursatz as in Schenkerian analysis. Instead, it means organizing and dividing the piece into specific sections and understanding how they relate.

%%%%%%%%%%

\subsubsection{Approaches to Music Analysis}

The method proposed combines aspects of the following three approaches, separating the organization of instrumentation, musical material, and formal function. This allows for the analysis of a wide variety of music pieces in a consistent way using a constrained vocabulary. It's important to note that music structure is often hierarchical, and the appropriate timescale for analysis can be hard to determine. The proposed method includes a few markers to partly address this issue.

Perceptual Approach: This involves listening for prominent harmonic or rhythmic boundaries in the piece to segment and apply labels to sections based on their similarity. However, this approach might not reflect the different structural roles of similar-sounding sections.

Functional Approach: This involves dividing the song into its functional parts, like verses, choruses, intros, outros, etc. This might result in the same music being labeled differently based on its function or different musical ideas having the same functional label.

Transcription Approach: This involves recording musical parameters like chord patterns and instrumentation directly. While this method may be less subjective, it may not provide a comprehensive view of the piece's structure.

%%%%%%%

\subsubsection{SALAMI Annotation Labels}

The structural analysis of each piece involves partitioning it into sections and labeling these sections. There are three independent layers of labels: musical similarity, function, and instrumentation.

Musical Similarity: Labels (A, B, C, D, E, ...) represent large-scale musical phrases, ideas, or subjects differentiated based on rhythmic, melodic, or harmonic material. Each unique musical idea gets its label. Although the guide recommends limiting to five labels, more can be used. Every moment in the piece must be labeled.

'Z' is a particular label for sections that strongly differ from the rest of the piece or shouldn't be considered part of it (e.g., applause or spoken dialogue).

A prime symbol (') indicates a section similar to a previous one but has significant changes (e.g., transposition or mode change).

Given the hierarchical nature of music, annotators should mark musical similarity on at least two scales. The large-scale sections (A, B, C, ...) should be divided into subsections using lowercase letters (a, b, c, ...). All boundaries marked by an uppercase letter should also be marked by a lowercase letter. Lowercase letters have significance across large-scale sections, indicating the same musical idea even if used in both sections "A" and "B".

Musical Function: It's crucial to correctly identify different sections of the song and label them accordingly. These labels include verse, chorus (or refrain), bridge, intro, outro, and solo. Each of these has a specific role and characteristic:

Verse: This is where the lyrics often change but the melody remains the same.
Chorus (Refrain): This part contrasts with the verse and is repeated more strictly.
Bridge: This section contrasts with the verse and chorus and often serves as a transition.
Intro: This part leads into the rest of the piece.
Outro: This part signals the end of the piece.
Solo: This is when a single instrument or voice is highlighted.
If the song doesn't strictly follow traditional pop song structure (verse, chorus, etc.), you might use labels like main theme and secondary theme.

Leading Instrumentation: In polyphonic music, you must identify and label the instrument or voice that carries the main melody in each segment. If there's no clear lead, that's fine; if two instruments seem to share the lead, you can label both. For instance, in a rock song, you might label segments with the lead vocal as "vocal" and segments where the guitar carries the melody as "guitar" or "electric guitar".

Remember, your analysis should aim to represent the structure and prominent features of the song accurately. The more detail you can provide, the better. Be consistent in labeling and descriptions, and use a standard music analysis vocabulary to ensure others understand your work.