\documentclass[a4paper,12pt,twoside]{report}

\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm]{geometry} %Margins
\usepackage{pdfpages}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{tocloft}
\usepackage{amsmath}
\usepackage{chngcntr }
\usepackage[toc,page]{appendix}
\usepackage[T1]{fontenc}
\usepackage[nottoc]{tocbibind}
\usepackage[compact]{titlesec}
\usepackage{float}

\usepackage{amsfonts}
\usepackage{graphicx}

\usepackage[utf8]{inputenc}
\usepackage{amsmath, amssymb, latexsym}
\usepackage{sidecap}

%---tikz---

\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{fadings}
\usetikzlibrary{matrix, positioning}
\usetikzlibrary{shapes,arrows,positioning}

%---NN tikz diagrams---

\usepackage{amsmath} % for aligned
%\usepackage{amssymb} % for \mathbb
\usepackage{tikz}
%\usepackage{etoolbox} % for \ifthen
\usepackage{listofitems} % for \readlist to create arrays
\usetikzlibrary{arrows.meta} % for arrow size
\usepackage[outline]{contour} % glow around text
\contourlength{1.4pt}

\tikzset{>=latex} % for LaTeX arrow head
\usepackage{xcolor}
\colorlet{myred}{red!80!black}
\colorlet{myblue}{blue!80!black}
\colorlet{mygreen}{green!60!black}
\colorlet{myorange}{orange!70!red!60!black}
\colorlet{mydarkred}{red!30!black}
\colorlet{mydarkblue}{blue!40!black}
\colorlet{mydarkgreen}{green!30!black}
\tikzstyle{node}=[thick,circle,draw=myblue,minimum size=22,inner sep=0.5,outer sep=0.6]
\tikzstyle{node in}=[node,green!20!black,draw=mygreen!30!black,fill=mygreen!25]
\tikzstyle{node hidden}=[node,blue!20!black,draw=myblue!30!black,fill=myblue!20]
\tikzstyle{node convol}=[node,orange!20!black,draw=myorange!30!black,fill=myorange!20]
\tikzstyle{node out}=[node,red!20!black,draw=myred!30!black,fill=myred!20]
\tikzstyle{connect}=[thick,mydarkblue] %,line cap=round
\tikzstyle{connect arrow}=[-{Latex[length=4,width=3.5]},thick,mydarkblue,shorten <=0.5,shorten >=1]
\tikzset{ % node styles, numbered for easy mapping with \nstyle
  node 1/.style={node in},
  node 2/.style={node hidden},
  node 3/.style={node out},
}
\def\nstyle{int(\lay<\Nnodlen?min(2,\lay):3)} % map layer number onto 1, 2, or 3


%------------------------

\titlespacing{\section}{0pt}{1ex}{0ex}
\titlespacing{\subsection}{0pt}{1ex}{0ex}
\titlespacing{\subsubsection}{0pt}{1ex}{0ex}

\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

\include{thesis.preamble}

\begin{document}

\newgeometry{left=2cm,right=2cm} %Only for the title new margins

%Title parameters
\title{%
  Uncovering underlying high-level musical content in the temporal domain \\
  \small Leveraging deep learning, inductive bias, and aural music skills to learn embedding spaces from raw waveforms with applications to MIR downstream tasks}
  
\author{\href{oriol.colome.font@epidemicsound.com}{Oriol Colomé Font}}
\submitdate{July 2023}
\supervisor{Carlos Lordelo and Carl Thomé}
\cosupervisor{Frederic Font}

\hypersetup{
pdftitle={Your PDF title},
pdfsubject={Your PDF subject},
pdfauthor={Oriol Colomé Font},
pdfkeywords={Music; 
Music Theory; 
Music Information Retrieval; 
Music Structure Analysis; 
Machine Learning; 
Neural Networks; 
Deep Learning}
}

\maketitle

\restoregeometry

\preface
\cleardoublepage 
\input{dedication/dedication}
\input{acknowledgements/acknowledgements}
\input{preface/preface}
\input{abstract/abstract}

\body

%Introduction of the project
\input{introduction/introduction}
%Task definition
%%\input{task definition}
%Methods
\input{methods/methods}
%Evaluation
\input{evaluation/evaluation}
%Results
\input{results/results}
%Discussion
\input{discussion/discussion}
%Future work
\input{future work/future work}
\newpage

\listoffigures
\newpage
\listoftables

% appendices come here
\bibliographystyle{naturemag}
\bibliography{bibliography/references.bib}

\newpage
\input{appendix/appendix}

\end{document}